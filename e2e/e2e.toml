# Metadata used when generating OTAs. These values don't affect behavior at all.
[ota_info]
# Make sure generated OTAs aren't flashable on real devices.
device = "avbroot_fake_device"
fingerprint = "avbroot/avbroot_fake_device:14/UQ1A.240101.000/12345678:user/release-keys"
build_number = "UQ1A.240101.000"
incremental_version = "12345678"
android_version = "14"
sdk_version = "34"
security_patch_level = "2024-01-01"

# Google Pixel 7 Pro
# What's unique: init_boot (boot v4) + vendor_boot (vendor v4)

[profile.pixel_v4_gki.vabc]
# CoW v3 is used starting with the Google Pixel 9a.
version = "V3"
algo = { kind = "Lz4" }

[profile.pixel_v4_gki.partitions.boot]
avb.signed = true
data.type = "boot"
data.version = "v4"
data.kernel = true

[profile.pixel_v4_gki.partitions.init_boot]
avb.signed = true
data.type = "boot"
data.version = "v4"
data.ramdisks = [["init", "first_stage"]]

[profile.pixel_v4_gki.partitions.system]
avb.signed = false
data.type = "dm_verity"
data.content = "system_otacerts"

[profile.pixel_v4_gki.partitions.vbmeta]
avb.signed = true
data.type = "vbmeta"
data.deps = ["boot", "init_boot", "vendor_boot", "vbmeta_system"]

[profile.pixel_v4_gki.partitions.vbmeta_system]
avb.signed = true
data.type = "vbmeta"
data.deps = ["system"]

[profile.pixel_v4_gki.partitions.vendor_boot]
avb.signed = false
data.type = "boot"
data.version = "vendor_v4"
data.ramdisks = [["otacerts", "first_stage", "dsu_key_dir"]]

[profile.pixel_v4_gki.hashes_streaming]
original = "3638d2e253e0647c4aa2d26301522d0c4b98d4c190115f04741066e2c8f25d7c"
patched = "be9a67884bdae4d04040e8b525cdf6f9c3d2d4ee816154843219192cc2671479"

[profile.pixel_v4_gki.hashes_seekable]
original = "acbc1e5af57390b10d5f7fe3770e47b4db0c7200f9e1d63036fdb8c53c60e3e5"
patched = "6e4bb1967045238cf02a61d422c2d9e4b40f21cb0d19e2ea548091d49808b7a9"

# Google Pixel 6a
# What's unique: boot (boot v4, no ramdisk) + vendor_boot (vendor v4, 2 ramdisks)

[profile.pixel_v4_non_gki.vabc]
version = "V2"
algo = { kind = "Lz4" }

[profile.pixel_v4_non_gki.partitions.boot]
avb.signed = true
data.type = "boot"
data.version = "v4"
data.kernel = true

[profile.pixel_v4_non_gki.partitions.system]
avb.signed = false
data.type = "dm_verity"
data.content = "system_otacerts"

[profile.pixel_v4_non_gki.partitions.vbmeta]
avb.signed = true
data.type = "vbmeta"
data.deps = ["boot", "vendor_boot", "vbmeta_system"]

[profile.pixel_v4_non_gki.partitions.vbmeta_system]
avb.signed = true
data.type = "vbmeta"
data.deps = ["system"]

[profile.pixel_v4_non_gki.partitions.vendor_boot]
avb.signed = false
data.type = "boot"
data.version = "vendor_v4"
data.ramdisks = [["init", "otacerts", "first_stage", "dsu_key_dir"], ["dlkm"]]

[profile.pixel_v4_non_gki.hashes_streaming]
original = "1785927b7768675ea7d261cf44f659b7402cf1799b636fd9f55b420f6e04b40d"
patched = "62d1fd1ff5f37d140cfaa3ca584a457144724e5ca3cff2c23c233f0a87037a74"

[profile.pixel_v4_non_gki.hashes_seekable]
original = "46de37c516db66b254629ff21a0addf5524fe33c253b4c0dfc0a93d6405d7093"
patched = "45f2341c7d5aa31a412418672067ffe95f451f132cb16f049c257099727cef77"

# Google Pixel 4a 5G
# What's unique: boot (boot v3) + vendor_boot (vendor v3)

[profile.pixel_v3.vabc]
version = "V2"
algo = { kind = "Gz" }

[profile.pixel_v3.partitions.boot]
avb.signed = true
data.type = "boot"
data.version = "v3"
data.kernel = true
data.ramdisks = [["init"]]

[profile.pixel_v3.partitions.system]
avb.signed = false
data.type = "dm_verity"
data.content = "system_otacerts"

[profile.pixel_v3.partitions.vbmeta]
avb.signed = true
data.type = "vbmeta"
data.deps = ["boot", "vendor_boot", "vbmeta_system"]

[profile.pixel_v3.partitions.vbmeta_system]
avb.signed = true
data.type = "vbmeta"
data.deps = ["system"]

[profile.pixel_v3.partitions.vendor_boot]
avb.signed = false
data.type = "boot"
data.version = "vendor_v3"
data.ramdisks = [["otacerts", "first_stage", "dsu_key_dir"]]

[profile.pixel_v3.hashes_streaming]
original = "2aa90f0b00f31e4ee906e232b8f8c7760a32db32629b753982fe133e3399ad7d"
patched = "719cb4a7df3ff8e310d92701a9a25209dc315d25de2c2311d872f72689fc98b1"

[profile.pixel_v3.hashes_seekable]
original = "1a7d2f3672c61fdca6a22be12a356020533fa5d79c9a2eef9e77d68413ae5f96"
patched = "5d8e775f019eb1fd7f999a59d95aea083eb3e58a1e62be051a25fd30de0fc12c"

# Google Pixel 4a
# What's unique: boot (boot v2)

[profile.pixel_v2.partitions.boot]
avb.signed = false
data.type = "boot"
data.version = "v2"
data.kernel = true
data.ramdisks = [["init", "otacerts", "first_stage", "dsu_key_dir"]]

[profile.pixel_v2.partitions.system]
avb.signed = false
data.type = "dm_verity"
data.content = "system_otacerts"

[profile.pixel_v2.partitions.vbmeta]
avb.signed = true
data.type = "vbmeta"
data.deps = ["boot", "vbmeta_system"]

[profile.pixel_v2.partitions.vbmeta_system]
avb.signed = true
data.type = "vbmeta"
data.deps = ["system"]

[profile.pixel_v2.hashes_streaming]
original = "9022288fc42beae948481007effc237f125fcb0f50a80233ab684b8b3cb302fa"
patched = "d97ef57bc386e4ba218d233cc23c6ce69ddabda68343d1139412d7e17ed4ffa9"

[profile.pixel_v2.hashes_seekable]
original = "36c1413d174b724faafb7b7c1f63fb1ccb11f1eb597940d1e688aa149ae2ba1c"
patched = "d4c0fd403440c8c11bae3d83e24b711b185c25e147da42370e361b4e87a564c2"
